{% extends "base_layout.html" %}

{% load static %} <!-- Neccessary when you want to use static files-->

{% block css_file %}
    <link rel="stylesheet" href="{% static "css/style.css" %}">
{% endblock css_file %}

{% block content %}
    <div class="container">
        <div class="row">
            <div class="col">
                <!--{% for category in categories%}
            <a class="btn btn-primary" href="{% url 'products_by_category' category=category %}"> {{ category }} </a>   you can write like just category instead of category = category, category is expected paraemeter from the url define 
            {% endfor %}-->

            <ul>
                {% for product in products %}
                    {% if product.is_active %}
                        <li> <a href={% url "product-details" product.slug %}>{{ product.name }}</a> - {{ product.price }} </li>
                    {% endif %}
                {% endfor %}
            </ul>
            <hr>
            <p>{{ product_count }} products found.</p>
            <p>Average Price: {{ price_calcs.price__avg }} TL </p> <!-- not sure, but dictionary key created with processed with func name and its parameter -->
            <p>Min Price: {{ price_calcs.price__min}} TL </p>
            <p>Max Price: {{ price_calcs.price__max}} TL </p>
            </div>
        </div>
    </div>
{% endblock content %}

{% block js_file %}<script src="{% static "js/script.js" %}"></script>{% endblock js_file %}